<div id="bookBanner" style="position: absolute; left: 0; top: 0; height: 65%; width: 100%"><!--{{bannerImage}}-->
    <div ng-dblclick="editItem(book)" style="background-image:url('{{bannerImage}}'); background-position: center; background-size: cover; height: 100%; margin-top: -40px">
      <div class="hidden-xs" style="font-family:Calibri; position: relative;
                  top: 50%; left: 8%; color: white; text-shadow: 0 1px 2px rgba(0,0,0,.6);
                  max-width: 1100px;
                  "><!--0 1px 1px rgba(0,0,0,0.75);-->
        <h1 style="font-size: 41px">{{book.name}}</h1>
        <p style="font-size: 16px">{{book.author}}</p>
      </div>
      <div class="visible-xs" style="font-family:Calibri; position: relative;
                  top: 45%; left: 8%; color: white; text-shadow: 0 1px 2px rgba(0,0,0,.6);
                  width:95%
                  "><!--0 1px 1px rgba(0,0,0,0.75);-->
        <h1 style="font-size: 30px">{{book.name}}</h1>
        <p style="font-size: 16px">{{book.author}}</p>
      </div>
    </div>
</div>
<div class="container" ng-if="isEditor()" ng-style="bookInfo">
  <div class="panel panel-default" ng-if="book.editing">
    <div class="panel-heading">
      <span>
        Редагування банеру.
      </span>
      <md-button class="md-icon-button pull-right" style="margin-top: -10px" ng-click="book.editing = false">
        <i class="fa fa-times" aria-hidden="true"></i>
      </md-button>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-md-1">
          <input type="file" ng-jcrop-input="uploadBanner" nv-file-select="" uploader="uploader" options="{formData: [{code: book.code, rectangle: []}]}" style="padding-bottom: 10px">
          <md-button ng-click="saveItem(book)" style="min-width: 100px" ng-disabled="bannerSaving">
            Зберігти
            <i ng-show="bannerSaving" style="font-size: small" class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
          </md-button>
        </div>
        <div class="col-md-11">
          <div ng-if="book.upl_item" style="padding-top: 30px; padding-left: 20px;">
            <div ng-jcrop="cropSelection.src" ng-jcrop-config-name="uploadBanner" selection="cropSelection.selection" thumbnail="cropSelection.thumbnail"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="panel-heading">Завантажити файл.</div>
    <form name="userForm">
      <div class="panel-body">
        <div class="row">
          <div class="col-md-3">
            <md-input-container>
              <label>Тип</label>
              <md-select ng-model="selectors.bookType">
                <md-option ng-repeat="bookType in bookTypes" ng-value="bookType">
                  {{bookType}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container ng-show="selectors.bookType === 'book'">
              <label>Формат</label>
              <md-select ng-model="selectors.bookFormat">
                <md-option ng-repeat="bookFormat in bookFormats" ng-value="bookFormat">
                  {{bookFormat}}
                </md-option>
              </md-select>
            </md-input-container>
          </div>
          <div class="col-md-9">
            <input type="file" nv-file-select="" uploader="uploaderFile" options="{formData: [{code: book.code}]}" style="padding-bottom: 10px">
            <md-button ng-click="saveFileItem(book)" ng-disabled="!userForm.$valid || fileSaving" style="min-width: 100px">
              Зберігти
              <i ng-show="fileSaving" style="font-size: small" class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
            </md-button>
          </div>
        </div>
        <div class="row">
          <bk-el-books-list></bk-el-books-list>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="row" ng-style="bookInfo" ng-hide="book.editing">
  <div bk-photoswipe slides="gallery.images" show="gallery.show" slide-selector=".slide-list > a > img"
       on-close="closeGallery()" options="gallery.opts">
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" style="padding-left: 0; padding-right: 0" ng-if="gallery.images.length > 0">
    <div class="slide-list">
      <a ng-repeat="image in gallery.images track by $index" ng-click="showGallery($index)">
        <img ng-show="image.flat === false" src="{{image.srcThumbNail}}" class="point_img img-responsive center-block" style="max-height: 250px; margin-bottom: 6px">
      </a>
    </div>
  </div>
  <div class="hidden-md hidden-lg" style="text-align: center;">
    <img src="{{book.image}}" class="img-responsive point_img center-block" ng-click="showGallery(1)">
    <p style="margin-top: 30px; text-align: center">
      <bk-buy-button book="book">
        <bk-price book="book" div="false"></bk-price>
      </bk-buy-button>
      <p ng-if="bookFragment !== ''" style="text-align: center">
        <md-button ng-click="OpenFragment(bookFragment.file)" class="">
          <span style="font-size: large" class="glyphicon glyphicon-book brand-color"></span>&nbsp;&nbsp;читати фрагмент
        </md-button>
      </p>
      <bk-el-books-buttons></bk-el-books-buttons>
      <div style="margin-top: 30px; text-align: center">
        <bk-social-buttons></bk-social-buttons>
      </div>
    </p>
  </div>
  <div class="col-md-6 book-data" style="padding-left: 5px;">
    <bk-book-detail-info></bk-book-detail-info>
    <span ng-if="description"><h3 style="font-family: Calibri" class="brand-color">Анотація</h3></span>
    <span ng-if="description" ng-bind-html="description"></span>
    <h3 ng-if="news.length > 0" style="font-family: Calibri" class="brand-color">Новини</h3>
    <div class="col-md-6 col-xs-12" style="margin: 0 0; padding: 1px 1px;" ng-repeat="oneNews in news">
      <bk-news-tile news="oneNews"></bk-news-tile>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm">
    <div style="position: fixed; top: 60px; margin-left: -30px;">
      <div style="background: rgba(255, 255, 255, 0.4); padding: 8px;">
        <img class="img-responsive point_img" src="{{flatImage}}" ng-style="flatImageHeight" ng-click="showGallery(flatImageIndex)" style="box-shadow: 0px 0px 10px #d8d8d8;">
        <p style="margin-top: 30px; text-align: center">
          <bk-price book="book" div="false"></bk-price>
          <bk-buy-button book="book">
          </bk-buy-button>
        </p>
        <p ng-if="bookFragment !== ''" style="text-align: center">
          <md-button ng-click="OpenFragment(bookFragment.file)" class="">
            <span style="font-size: large" class="glyphicon glyphicon-book brand-color"></span>&nbsp;&nbsp;читати фрагмент
          </md-button>
        </p>
        <bk-el-books-buttons></bk-el-books-buttons>
        <div style="margin-top: 30px; text-align: center">
          <bk-social-buttons></bk-social-buttons>
        </div>
      </div>
    </div>
  </div>
</div>




