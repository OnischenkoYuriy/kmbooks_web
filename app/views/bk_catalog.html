<span ng-if="searching">
  <p class="visible-xs">Зачекайте ...</p>
  <img class="img-responsive center-block" src="/img/loading.gif">
</span>
<span ng-if="!searching">
  <div ng-if="pages.length > 1" class="row">
    <div class="col-md-10" style="text-align: center">
      <ul class="pagination">
        <li>
          <a href="#" ng-click="goToPage(pagePrevious); $event.preventDefault()" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li ng-class="{active: page.active}" ng-repeat="page in pages"><a href="#" ng-click="goToPage(page.page); $event.preventDefault()">{{page.page}}</a></li>
        <li>
          <a href="#" ng-click="goToPage(pageNext); $event.preventDefault()" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="col-md-2" style="text-align: right">
        <div class="btn-group" style="margin-top: 20px">
          <button class="btn btn-default" ng-class="{active: kindOfView==='tails'}" ng-click="setLayout('tails')">
            <span>
              <i class="fa fa-th" aria-hidden="true"></i>
            </span>
          </button>
          <button class="btn btn-default" ng-class="{active: kindOfView==='list'}" ng-click="setLayout('list')">
            <span>
              <i class="fa fa-th-list" aria-hidden="true"></i>
            </span>
          </button>
        </div>
    </div>
  </div>
  <div ng-if="pages.length === 1" class="row">
    <div class="col-md-12" style="text-align: right">
      <div class="btn-group" style="margin-top: 20px">
        <button class="btn btn-default" ng-class="{active: kindOfView==='tails'}" ng-click="setLayout('tails')">
          <span>
            <i class="fa fa-th" aria-hidden="true"></i>
          </span>
        </button>
        <button class="btn btn-default" ng-class="{active: kindOfView==='list'}" ng-click="setLayout('list')">
          <span>
            <i class="fa fa-th-list" aria-hidden="true"></i>
          </span>
        </button>
      </div>
    </div>
  </div>
  <div ng-if="kindOfView==='list'" ng-repeat="book in books" class="row" style="margin-top: 25px">
    <div class="col-md-4 text-center">
      <a href="#/book_view?code={{book.code}}">
        <img src="{{book.image}}">
      </a>
      <p style="margin-top: 30px; text-align: center"><a href="http://bukva.ua/catalog/browse/{{book.codeGroup}}/1/{{book.code}}"><span style="font-size: medium; color: black;">Ціна: {{book.price}} грн</span><button class="btn btn-primary" ng-disabled = "[1227, 2008].indexOf(book.state) !== -1" style="margin-left: 20px"><span class="glyphicon glyphicon-shopping-cart"></span>&nbsp;купити</button></a></p>
    </div>
    <div class="col-md-8">
      <a href="#/book_view?code={{book.code}}">
        <h4 style="color: #428bca; margin-top: 0px">{{book.name}}</h4>
      </a>
      <div><b>Код: </b><span style="color: #428bca">{{book.code}}</span></div>
      <div ng-if="book.author"><b>Автор: </b>{{book.author}}</div>
      <div ng-if="book.series"><b>Серія: </b>{{book.series}}</div>
      <div>
        <span ng-if="book.sk"><b>Штрихкод: </b>{{book.sk}}</span>,&nbsp;
        <span ng-if="book.isbn"><b>ISBN: </b>{{book.isbn}}</span>
      </div>
      <div ng-if="book.cover"><b>Обкладинка: </b> {{book.cover}}</div>
      <div ng-if="book.str"><b>Сторінок: </b> {{book.str}}</div>
      <div ng-if="book.year"><b>Рік видання: </b> {{book.year}}</div>
      <div ng-if="book.language"><b>Мова: </b> {{book.language}}</div>
      <div ng-if="book.description"><b>Описання: </b>{{book.description}}...</div>
    </div>
  </div>
  <span ng-if="kindOfView==='tails'" ng-repeat="book in books">
     <div class="col-xs-12 col-sm-6 col-md-4" style="min-height: 400px">
       <div class="bukva-item">
         <a href="#/book_view?code={{book.code}}">
           <img class="img-responsive center-block" src="{{book.image}}"> </img>
         </a>
         <div style="text-align:center; font-size: 15px; margin-top: 10px; margin-bottom: 5px">
           <a href="#/book_view?code={{book.code}}">
             {{book.name}}
           </a>
         </div>
         <div class="price_value">{{book.price}} грн</div>
         <div class="bukva-hidden">
           <a href="http://bukva.ua/catalog/browse/{{book.codeGroup}}/1/{{book.code}}" style="align: center; text-decoration:none">
             <p style="margin-top: 9px; text-align: center"><a href="http://bukva.ua/catalog/browse/{{book.codeGroup}}/1/{{book.code}}"><button class="btn btn-primary" ng-disabled = "[1227, 2008].indexOf(book.state) !== -1" style="margin-left: 20px"><span class="glyphicon glyphicon-shopping-cart"></span>&nbsp;купити</button></a></p>
           </a>
           <p>
             <b> Код: </b> {{book.code}}
             <span ng-if="book.author"> <b>Автор:&nbsp;</b><a href="#/search?author={{book.author}}">{{book.author}}</a></span>
           </p>
           <p>
             <span ng-if="book.description">{{book.description}}</span>
           </p>
         </div>
       </div>
     </div>
     <div class="clearfix visible-md-block" ng-if="($index+1)%3 === 0"></div>
     <!--<div class="clearfix visible-sm-block" ng-if="($index+1)%3 === 0"></div>-->
  </span>
  <div ng-if="pages.length > 1" class="row">
    <div class="col-md-10" style="text-align: center;">
      <ul class="pagination">
        <li>
          <a href="#" ng-click="goToPage(pagePrevious); $event.preventDefault()" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li ng-class="{active: page.active}" ng-repeat="page in pages"><a href="#" ng-click="goToPage(page.page); $event.preventDefault()">{{page.page}}</a></li>
        <li>
          <a href="#" ng-click="goToPage(pageNext); $event.preventDefault()" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="col-md-2" style="text-align: right">
        <div class="btn-group" style="margin-top: 20px">
          <button class="btn btn-default" ng-class="{active: kindOfView==='tails'}" ng-click="setLayout('tails')">
            <span>
              <i class="fa fa-th" aria-hidden="true"></i>
            </span>
          </button>
          <button class="btn btn-default" ng-class="{active: kindOfView==='list'}" ng-click="setLayout('list')">
            <span>
              <i class="fa fa-th-list" aria-hidden="true"></i>
            </span>
          </button>
        </div>
    </div>
  </div>
  <div ng-if="pages.length === 1" class="row">
    <div class="col-md-12" style="text-align: right">
      <div class="btn-group" style="margin-top: 20px">
        <button class="btn btn-default" ng-class="{active: kindOfView==='tails'}" ng-click="setLayout('tails')">
          <span>
            <i class="fa fa-th" aria-hidden="true"></i>
          </span>
        </button>
        <button class="btn btn-default" ng-class="{active: kindOfView==='list'}" ng-click="setLayout('list')">
          <span>
            <i class="fa fa-th-list" aria-hidden="true"></i>
          </span>
        </button>
      </div>
    </div>
  </div>
</span>
